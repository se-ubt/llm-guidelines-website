\input{../../header.tex}

\begin{document}

\subsection{Introduction: LLMs as Tools for Software Engineering Researchers}

LLMs can be leveraged as powerful tools to assist researchers conducting empirical studies.
They can automate various tasks such as data collection, preprocessing, and analysis.
For example, LLMs can apply pre-defined coding guides to large qualitative datasets (\href{/study-types/#llms-as-annotators}{LLMs as Annotators}), assess the quality of software artifacts (\href{/study-types/#llms-as-judges}{LLMs as Judges}), generate summaries of research papers (\href{/study-types/#llms-for-synthesis}{LLMs for Synthesis}), and even simulate human behavior in empirical studies (\href{/study-types/#llms-as-subjects}{LLMs as Subjects}).
This can significantly reduce the time and effort required by researchers, allowing them to focus on more complex aspects of their studies.
However, all these applications also come with limitations, potential threats to validity, and implications for the reproducibility of study results.
In our guidelines, the following study types and used to contextualize the recommendations we provide.


\subsection{LLMs as Annotators}

\subsubsection{Description}

LLMs can serve as annotators by automatically labeling artifacts with corresponding categories for data analysis based on a pre-defined coding guide.
In qualitative data analysis, manually annotating or coding text passages, e.g. in software artifacts, open-ended survey responses, or interview transcripts, is often a time-consuming manual process~\cite{DBLP:journals/ase/BanoHZT24}.
LLMs can be used to augment or even replace human annotations, provide suggestions for new codes (see Section \href{/study-types/#llms-for-synthesis}{LLMs for Synthesis}), or even automate the entire process.

\subsubsection{Example(s)}

Recent work in software engineering has begun exploring the use of LLMs for annotation tasks.
Huang et al.~\cite{Huang2023Enhancing} proposed an approach leveraging multiple LLMs for joint annotation of mobile application reviews. 
They used three models (Llama3, Gemma, and Mistral) of comparable size  with an absolute majority voting rule (i.e., a label is only accepted if it receives more than half of the total votes from the models). 
Accordingly, the annotations fell into three categories: exact matches (where all models agreed), partial matches (where a majority agreed), and non-matches (where no majority was reached).
Training on the resulting multi-model annotated dataset yielded improved classifier performance compared to single-model annotations. Both BERT and RoBERTa models showed meaningful improvements in F1 score and accuracy when trained on the multi-model annotated dataset versus individual model annotations, highlighting the benefits of their approach.

\subsubsection{Advantages}

Recent research demonstrates several key advantages of using LLMs as annotators, in particular their cost-effectiveness as well as efficiency and accuracy benefits.
LLM-based annotation dramatically reduces costs compared to human labeling, with studies showing cost reductions of 50-96\% across various natural language tasks~\cite{DBLP:conf/emnlp/WangLXZZ21}.
%A comprehensive validation study across 27 diverse annotation tasks demonstrated that processing large datasets (>200,000 samples) can be achieved at relatively low cost~\cite{DBLP:journals/corr/abs-2306-00176}.
For example, He et al. found in their study that GPT-4 annotation cost only \$122.08 compared to \$4,508 for a comparable MTurk pipeline, while also completing the task in just 2 days versus several weeks for the crowdsourced approach~\cite{DBLP:conf/chi/HeHDRH24}.
Moreover, LLMs consistently demonstrate strong performance, with ChatGPT's accuracy exceeding crowd workers by approximately 25\% on average~\cite{DBLP:journals/corr/abs-2303-15056} and achieving impressive results in specific tasks such as sentiment analysis (64.9\% accuracy) and counterspeech detection (0.791 precision)~\cite{DBLP:journals/corr/abs-2304-10145}. They also show remarkably high intercoder agreement, surpassing both crowd workers and trained annotators~\cite{DBLP:journals/corr/abs-2303-15056}.
%Recent research further validates this superior performance, demonstrating GPT-4 achieving 83.6\% accuracy in academic text annotation tasks, outperforming well-executed crowdsourcing pipelines that peaked at 81.5\% accuracy~\cite{DBLP:conf/chi/HeHDRH24}. Notably, models trained on LLM-generated labels can sometimes outperform the LLM itself~\cite{DBLP:conf/emnlp/WangLXZZ21}.

\subsubsection{Challenges}

Several important challenges and limitations must also be considered, which include reliability issues, human-LLM interaction challenges, biases, errors, and resource considerations.
Studies suggest that while LLMs show promise as annotation tools in SE, their optimal use may be in augmenting rather than replacing human annotators entirely~\cite{DBLP:conf/emnlp/WangLXZZ21, DBLP:conf/chi/HeHDRH24}, with careful consideration given to verification mechanisms and confidence thresholds
LLMs can negatively impact human judgment when their labels are incorrect~\cite{DBLP:conf/www/HuangKA23a}, and their overconfidence requires careful verification~\cite{DBLP:conf/kdd/WanSJKCNSSWYABJ24}.
%The quality of LLM-generated explanations significantly impacts human annotators' performance and satisfaction~\cite{DBLP:conf/chi/Wang0RMM24}.
Moreover, LLMs show significant variability in annotation quality across different tasks~\cite{DBLP:conf/www/HuangKA23a,DBLP:conf/chi/Wang0RMM24}, with particular challenges in complex tasks and post-training events. They are especially unreliable for high-stakes labeling tasks~\cite{DBLP:conf/chi/Wang0RMM24}, demonstrating notable performance disparities across different label categories~\cite{DBLP:journals/corr/abs-2304-10145}. Recent empirical evidence indicates that LLM consistency in text annotation often falls below scientific reliability thresholds, with outputs being sensitive to minor prompt variations~\cite{DBLP:journals/corr/abs-2304-11085} and performance varies between tasks~\cite{DBLP:journals/corr/abs-2306-00176}. Specific challenges have been identified with context-dependent annotations, where LLMs show particular difficulty in correctly interpreting text segments that require broader contextual understanding~\cite{DBLP:conf/chi/HeHDRH24}.
%This variability has been further validated in large-scale studies, where even within the same dataset, annotation performance can vary substantially between different classification tasks~\cite{DBLP:journals/corr/abs-2306-00176}.
While pooling multiple outputs can improve reliability, this approach necessitates additional computational resources and still requires validation against human-annotated data.
While generally cost-effective, LLM annotation requires careful management of per-token charges, particularly for longer texts~\cite{DBLP:conf/emnlp/WangLXZZ21}. Furthermore, achieving reliable annotations may require multiple runs of the same input to enable majority voting~\cite{DBLP:journals/corr/abs-2304-11085}, although exact cost comparisons between LLM-based and human annotation is controversial~\cite{DBLP:conf/chi/HeHDRH24}.
Finally, research has identified consistent biases in label assignment, including tendencies to overestimate certain labels and misclassify neutral content, particularly in stance detection tasks~\cite{DBLP:journals/corr/abs-2304-10145}. %These biases are especially pronounced when dealing with newer topics, such as the Russo-Ukrainian conflict sentiment analysis.


\subsection{LLMs as Judges}
%neil

\subsubsection{Description}

LLMs can act as judges (also known as LLM-as-rater) to evaluate properties of software artifacts.% such as code, documentation, and design patterns.
For instance, LLMs can be used to assess code readability, adherence to coding standards, or the quality of code comments. LLM judgments could be used to assess research artifact quality, such as generated documentation from a research tool.
\emph{Judgment} is distinct from the more qualitative task of assigning a code or label (see Section \href{/study-types/#llms-as-annotators}{LLMs as Annotators}) to (typically) unstructured text.
It is also distinct from the software engineering tasks of \textbf{using} LLMs, as we discuss in Section \href{/study-types/#introduction-llms-as-tools-for-software-engineers}{LLMs as Tools for SE}, to e.g. understand if LLMs can find ambiguity in requirements~\cite{DBLP:conf/icse/EzziniA0S22}, which is then compared to a human-created gold standard.

% Neil's note: There are plenty of papers looking at using LLMs to generate code, evaluate bugginess, compare binaries, etc. But these would fall into the LLMs for SE category. Many fewer studies using them as raters; most studies still compare outputs to a manual gold set and report accuracy etc.
\subsubsection{Example(s)}
Lubos et al.~\cite{DBLP:conf/re/LubosFTGMEL24} leveraged \href{https://www.llama.com/llama2/}{Llama-2} to evaluate the quality of software requirements statements. 

They prompted the LLM with the text below, where the words in brackets reflect parameters for the study:

\begin{quote}
Your task is to evaluate the quality of a software requirement.\\
Evaluate whether the following requirement is \{quality\_characteristic\}. \\
\{quality\_ characteristic\} means: \{quality\_characteristic\_explanation\}\\
The evaluation result must be: `yes' or `no'.\\
Request: Based on the following description of the project:
\{project\_description\}\\
Evaluate the quality of the following requirement: \{requirement\}.\\
Explain your decision and suggest an improved version.\\
\end{quote}

Lubos et al. then evaluated the LLM's output against human raters, to assess how well the LLM matched experts. 
% They did this in 2 phases: in one, the humans were unaware of the LLM's decision, and in the other, with foreknowledge. This second aspect measured the extent to which the LLM might \emph{convince} the human to change their mind. 
% \comment{I wonder if the second aspect is a bit distracting here and could be misunderstood as suggesting that studies should do such a thing. Interesting study though!}
Agreement can be measured in many ways; this study used Cohen's kappa measure~\cite{cohen60}. The study found moderate agreement on the simple requirements dataset, and poor agreement on the more complex requirements. However, evaluating machine judgment may not be the same as human-human judgments, and is an open area of research~\cite{DBLP:journals/corr/abs-2410-03775}. 

The study by Ahmed et al.~\cite{DBLP:journals/corr/abs-2408-05534} looked at LLMs-as-judges across five datasets and ten annotation tasks. They used a variety of different LLMs to compare model to model performance. For tasks where humans do not agree with one another (in this case, evaluating conciseness of code summaries) models also do poorly; but ``if multiple LLMs reach similar solutions independently, then LLMs are likely suitable for the annotation task~\cite[p.6]{DBLP:journals/corr/abs-2408-05534}.

% % Other examples, for future:
% - ClarifyGPT rates AI code wrt requirements 10.1145/3660810
% - Security assessment using LLMs - https://ieeexplore.ieee.org/abstract/document/10647161
% - Toufique/Christoph paper on raters on several SE tasks (Ahmed et al above) 

% Other risks or issues
% - Correlation scores like K-Alpha may assume human raters, not machines https://arxiv.org/abs/2410.03775
% - how much context to provide, how to use RAG

\subsubsection{Advantages}

By providing---depending on the model configuration---consistent and relatively ``objective'' evaluations, LLMs can help mitigate certain biases and part of the variability that human judges might introduce. 
This may lead to more reliable and reproducible results in empirical studies, to the extent these models can be reproduced or checkpointed (see \href{/guidelines/#report-model-version-and-configuration}{"Report Model Version and Configuration"} and \href{/guidelines/#report-prompts-and-their-development}{"Report Prompts and their Development"} for more).

LLMs can be much more efficient, and scale far more easily, than the equivalent human approach. With LLM automation, entire datasets could be labeled, as opposed to subsets. The main constraint, which varies by model and budget, is the input context size, i.e., the number of tokens one can pass into a model. For example, the upper bound on context that can be passed into OpenAi's \textsf{o1-mini} model is \href{https://help.openai.com/en/articles/9855712-openai-o1-models-faq-chatgpt-enterprise-and-edu}{32k}. 

\subsubsection{Challenges}

When relying on the judgment of LLMs, researchers must build a \textit{reliable} process for generating judgment labels that considers the non-deterministic nature of LLMs and report the intricacies of that process transparently~\cite{DBLP:journals/corr/abs-2412-12509}. For example, the order of options has been shown to affect LLM outputs in multiple-choice settings~\cite{DBLP:conf/naacl/PezeshkpourH24}. 
In addition to reliability, other quality attributes include \textit{accuracy} of the labels, and the speed and \textit{scalability} of the LLM tool. 
A reliable LLM might be reliably inaccurate and wrong. 
Evaluating and judging large numbers of items---for example, to perform fault localization on the thousands of bugs big open-source projects deal with---comes with costs in clock time, compute time, and environmental sustainability.
% \comment{I wonder if it would make sense to explicitly call out that reliability is not the only important thing -- if the LLM or even multiple LLMs produce reliable output, i.e., always the same answer for the same input, this does not tell us anything about accuracy yet. LLM might just be reliably wrong.}

Avoid the temptation to assign objectivity to an LLM; evidence shows LLMs can behave differently, for instance, when reviewing their own outputs~\cite{NEURIPS2024_7f1f0218}. In more human-oriented datasets (such as discussions of pull requests) LLMs may suffer from well documented biases and issues with fairness~\cite{Gallegos2024BiasAF}. 
For tasks where human judges themselves disagree significantly, it is not clear if an LLM judge should reflect the majority opinion or act as an independent judge. The underlying statistical framework of an LLM usually pushes outputs towards the most likely (majority) answer. 

One researcher choice in such studies is the number of examples (training data) provided to the LLM. This might involve zero tuning (zero-shot), several examples (few-shot), or more conventional training data with many examples. In the example above, Lubos et al. chose zero-shot tuning, providing no specific guidance besides the project's context, i.e., they did not show the LLM what a yes or no answer might look like. 

Research is ongoing as to how suitable LLMs are as standalone judges. Questions around bias, accuracy, and trust remain~\cite{DBLP:journals/corr/abs-2406-18403}. There is reason for concern about LLMs judging student assignments or doing peer review of scientific papers~\cite{DBLP:conf/coling/ZhouC024}. Even beyond questions of technical capacity, ethical questions remain, particularly if there is some implicit expectation that a human is judging the output, such as a quiz. Involving a human in the judgment loop---for example, to contextualize the scoring---is one approach~\cite{panHumanCenteredDesignRecommendations2024}. 

A lack of large-scale ground truth datasets for benchmarking LLM performance on judgment studies is hindering progress on evaluating research in this area.
% \comment{would it make sense to mention lack of large-scale ground truth data as a challenge?}

\subsection{LLMs for Synthesis}
% kalinowski

\subsubsection{Description}

Large Language Models (LLMs) can streamline qualitative data analysis and synthesis by summarizing text, identifying key themes, and providing detailed analyses~\cite{DBLP:conf/chi/ByunVS23}. In software engineering research, these models can assist in processing interview transcripts, survey responses, and literature reviews, with the potential to address longstanding challenges of qualitative software engineering research, such as reducing manual effort and subjectivity and improving generalizability and consistency~\cite{DBLP:journals/ase/BanoHZT24}. LLMs can support researchers in deriving codes and developing coding guides during the initial phase of qualitative data analysis. These codes can then be used to annotate additional data (see Section "LLMs as Annotators"), with LLMs identifying key themes that emerge from these codes and providing candidate insights, potentially automating the entire process and enabling the synthesis of large amounts of qualitative data. However, while LLMs show promise, there remain concerns about overreliance, as discrepancies between AI-generated and human-generated insights persist, particularly related to capturing contextual nuances~\cite{bano2023exploringqualitativeresearchusing}.

\comment{This opening para is a bit dense, maybe? We could break it up into a couple of shorter paragraphs. I'm attempting a restructuring below:
% Start with a definition of synthesis in SE research
Large Language Models (LLMs) can support synthesis tasks in software engineering research by processing and distilling information from qualitative data sources. In the context of software engineering research, synthesis refers to the process of integrating and interpreting information from multiple sources to generate higher-level insights, identify patterns across datasets, and develop conceptual frameworks or theories. Unlike annotation (maybe a ref to LLMs as annotators?), which focuses on categorizing or labeling individual data points, synthesis involves connecting and interpreting these annotations to develop a cohesive understanding of the phenomenon being studied.
% Noe explain how LLMs can support this process
In software engineering research, LLMs can assist with synthesizing information from diverse artifacts including interview transcripts, survey responses, and literature reviews. This capability addresses... (the rest of the paragraph)
}

\subsubsection{Example(s)} 

While published examples of applying LLMs for synthesis in the software engineering domain are still rather scarce, recent work has explored the use of LLMs for qualitative synthesis in other domains and provided reflections on how they can be applied for this purpose in software engineering~\cite{DBLP:journals/ase/BanoHZT24}. Barros \textit{et al.}~\cite{barros2024largelanguagemodelqualitative} conducted a systematic mapping on the use of LLMs for qualitative research. They identified examples in domains like healthcare and social sciences (\textit{e.g.}, \cite{de2024performing,mathis2024inductive}) in which LLMs were used to support different methodologies for qualitative analysis, including grounded theory and thematic analysis. Overall, the findings highlight the successful generation of preliminary coding schemes from interview transcripts, later refined by human researchers, along with support for pattern identification. This approach was reported not only to expedite the initial coding process but also to allow researchers to focus more on higher-level analysis and interpretation. However, they emphasize that effective use of LLMs requires structured prompts and careful human oversight. This particular paper suggests using LLMs to support tasks like initial coding and theme identification while conservatively reserving interpretative or creative processes for human analysts.

Similarly, Lecça \textit{et al.}~\cite{leça2024applicationsimplicationslargelanguage} also conducted a systematic mapping to investigate how LLMs are used in qualitative analysis and how they can be applied in software engineering research. Consistent with the study by Barros \textit{et al.}~\cite{barros2024largelanguagemodelqualitative}, they identified that LLMs are applied primarily in tasks like coding, thematic analysis, and data categorization, providing efficiency by reducing the time, cognitive demands, and resources often required for these processes. Their findings also recognize the need for human oversight to ensure reliability and suggest that, while LLMs can assist in qualitative analysis in software engineering, human expertise remains essential for in-depth interpretation.

\subsubsection{Advantages}

The use of LLMs for synthesis offers several advantages, addressing classical challenges related to qualitative empirical software engineering research~\cite{DBLP:journals/ase/BanoHZT24, barros2024largelanguagemodelqualitative, leça2024applicationsimplicationslargelanguage}. By enhancing efficiency and scalability, LLMs can significantly reduce the time required for synthesis, alleviating the burden of time-intensive manual work. They can also improve consistency in coding and summarization, minimizing variability in human interpretations by generating structured summaries and coding suggestions with uniform phrasing. In terms of generalizability, LLMs can enable researchers to analyze larger datasets, identifying patterns across broader contexts than traditional qualitative methods typically allow. Additionally, they can help to reduce the influence of human subjectivity. Nevertheless, while LLMs streamline many aspects of qualitative synthesis, careful oversight remains essential to ensure nuanced interpretation and contextual accuracy.

\comment{The sectiuon mentions addressing ``classical challenges related to qualitative empirical software engineering research'' but doesn't specify what these challenges are before addressing how LLMs help solve them. I think this would make  it somewhat difficult for readers to appreciate how LLMs address these specific issues. I suggest we briefly enumerate the advantages before explaining how LLMs address them. 
Maybe something along this line?: ``Qualitative research in software engineering traditionally faces several challenges, including: limited scalability due to manual analysis requirements; potential inconsistencies in coding between researchers; difficulties generalizing findings from small samples; and researcher subjectivity influencing interpretation. LLMs can help address these challenges by enhancing efficiency and scalability through automated processing of larger datasets, improving consistency in coding...''. }

\subsubsection{Challenges}

Bano \textit{et al.}~\cite{bano2023exploringqualitativeresearchusing} found that while LLMs can provide structured summaries and qualitative coding frameworks, they may misinterpret nuanced qualitative data due to their lack of contextual understanding. Additionally, several other challenges have been reported~\cite{DBLP:journals/ase/BanoHZT24, barros2024largelanguagemodelqualitative, leça2024applicationsimplicationslargelanguage}. In particular, LLMs cannot independently assess argument validity, and critical thinking remains a human responsibility in qualitative synthesis. Moreover, LLMs may produce biased results, reinforcing existing prejudices or omitting key perspectives, making human oversight essential to ensure accurate interpretation, mitigate biases, and maintain quality control. Ethical and privacy concerns also arise from the proprietary nature of many LLMs, limiting transparency and control over training data. Finally, reproducibility issues persist due to inconsistencies across inferences, model versions, and prompt variations.

\comment{I suggest to reorganize and structure the challenges subsection a bit more. I would start from listing specific findings from the studies before shifting to a more general discussion. As the closing, we might want to add  a short paragraph with specific recommendations or best practices maybe?? See if these recommendation make sense (no only the structure): 
''Based on current research, SE researchers interested in using LLMs for synthesis should consider the following approaches: 
(1) Use LLMs primarily for initial coding and theme identification (link to section on llms as annotators??), reserving interpretative processes for human analysis; 
(2) Employ structured prompts that explicitly guide the LLM through the synthesis methodology you're following (e.g., grounded theory, thematic analysis); 
(3) Implement human verification processes for all LLM-generated synthesis outputs; 
(4) Document both the prompting strategy and verification process to ensure transparency and reproducibility (link to reproducibility section??).'' }

\subsection{LLMs as Subjects}

\subsubsection{Description}

In empirical research, 'subjects' refer to participants from whom data is collected through methods such as surveys, interviews, or controlled experiments. Large Language Models (LLMs) can serve as subjects in empirical studies by simulating human behavior and interactions. In this capacity, LLMs generate responses that approximate those of human participants, making them particularly valuable for research involving user interactions, collaborative coding environments, and software usability assessments. This approach enables data collection that closely reflects human reactions while avoiding the need for direct human involvement.
To achieve this, prompt engineering techniques are widely employed, with a common approach being the use of the \textit{Personas Pattern}~\cite{DBLP:journals/corr/abs-2308-07702}, which involves tailoring LLM responses to align with predefined profiles or roles that emulate specific user archetypes. 
Furthermore, recent sociological studies have emphasized that, to be effectively utilized in this capacity, LLMs—including their agentic versions tailored through prompt engineering—should meet four criteria of algorithmic fidelity~\cite{DBLP:journals/corr/abs-2209-06899}; generated responses should be: indistinguishable from human-produced texts (e.g., LLM-generated code reviews should be comparable to those from real developers); consistent with the attitudes and sociodemographic information of the conditioning context (e.g., LLMs simulating junior developers should exhibit different confidence levels, vocabulary, and concerns compared to senior engineers); naturally aligned with the form, tone, and content of the provided context (e.g., responses in an agile stand-up meeting simulation should be concise, task-focused, and aligned with sprint objectives rather than long, formal explanations); and reflective of patterns in relationships between ideas, demographics, and behavior observed in comparable human data (e.g., discussions on software architecture decisions should capture trade-offs typically debated by human developers, such as maintainability versus performance, rather than abstract theoretical arguments).

\subsubsection{Example(s)}

LLMs can be used as subjects in various types of empirical studies, enabling researchers to simulate human participants in controlled, repeatable scenarios. The broader applicability of LLM-based studies beyond software engineering has been compiled by Xu et al.~\cite{DBLP:journals/ipm/XuSRGPLSH24}, who examined various uses in social science research. Given the socio-technical nature of software development, many of these approaches are highly transferable to this domain, demonstrating the growing role of LLMs in empirical software engineering research.

LLMs can be applied in \textit{survey and interview studies} to impersonate developers responding to survey questionnaires or interviews, allowing researchers to test the clarity and effectiveness of survey items or to simulate responses under varying conditions, such as different expertise levels or cultural contexts. For instance, Gerosa et al.~\cite{DBLP:journals/ase/GerosaTSS24} explored persona-based interviews and multi-persona focus groups, demonstrating how LLMs can emulate human responses and behaviors while addressing ethical concerns, biases, and methodological challenges. Their study highlighted the potential of LLMs in enhancing research scalability while advocating for a hybrid approach that integrates AI-generated and human-generated data to preserve the validity of findings.

In \textit{usability studies}, LLMs can simulate end-user feedback, providing insights into potential usability issues and offering suggestions for improvement based on predefined user personas. This aligns with the work of Bano et al.~\cite{bano2025doessoftwareengineerlook}, who investigated biases in LLM-generated candidate profiles in software engineering recruitment processes. Their study, which analyzed both textual and visual outputs, revealed biases favoring male, Caucasian candidates, lighter skin tones, and slim physiques, particularly for senior roles. This demonstrates how LLMs can be used to assess usability concerns, such as fairness and inclusivity, in AI-driven decision-making tools within software engineering.

In \textit{experimental studies}, LLMs can participate in experiments testing collaborative coding practices, such as pair programming or code review scenarios, by simulating developers with distinct coding styles, expertise levels, or attitudes. 
Similarly, in \textit{simulated decision-making studies}, LLMs can emulate team members in exercises such as sprint planning or software requirement prioritization, enabling researchers to analyze team dynamics under different configurations.

\subsubsection{Advantages}

Using LLMs as subjects offers valuable insights while significantly reducing the need to recruit human participants, a process that is often time-consuming and costly~\cite{DBLP:conf/vl/Madampe0HO24}. 
Furthermore, employing LLMs as subjects enables researchers to conduct empirical research under consistent and repeatable conditions, enhancing the reliability and scalability of the studies.

\subsubsection{Challenges}

However, it is important that researchers are aware of LLMs' inherent biases~\cite{Crowell2023} and limitations~\cite{DBLP:journals/ais/HardingDLL24, DBLP:journals/corr/abs-2402-01908} when using them as study subjects. 

One critical concern is \textit{construct validity}. LLMs have been shown to \textit{misrepresent demographic group perspectives}, often reflecting more the opinions of out-group members than those of in-group members. Additionally, they tend to \textit{oversimplify demographic identities}, failing to capture the diversity of opinions and experiences within a group. The use of identity-based prompts can further \textit{reduce identities to fixed and innate characteristics}, amplifying perceived differences between groups. These biases introduce a risk that studies relying on LLM-generated responses may inadvertently reinforce stereotypes or misrepresent real-world social dynamics. To mitigate these issues, encoded identity names can be used instead of explicit labels, the temperature setting can be increased to enhance response diversity, and alternatives to demographic prompts can be employed when the goal is to broaden response coverage~\cite{DBLP:journals/ais/HardingDLL24, DBLP:journals/corr/abs-2402-01908}.

Beyond construct validity, \textit{internal validity} must also be considered, particularly regarding whether causal conclusions can be drawn from studies relying on LLM-simulated responses. Moreover, \textit{external validity} remains a key challenge, as findings based on LLMs may not necessarily generalize to real-world practitioners. To ensure that LLM-generated responses align with human behavior, researchers should validate their findings against human data before full deployment. A recommended approach is to conduct pilot studies where responses from real developers and LLM-simulated developers are collected on the same tasks. By analyzing similarities and differences in response patterns, researchers can assess whether LLM-generated data is sufficiently representative before scaling up studies with LLM subjects alone.

Finally, ethical considerations must be explicitly addressed when using LLMs as study subjects~\cite{DBLP:journals/jss/RussoBBACCCCEFHHIKKLLLMMMOPPPPRRSSS24}. Researchers must disclose that LLMs were used in place of human participants, ensuring transparency in methodological descriptions. This entails explicitly stating the role of LLMs in the study design and discussing potential ethical implications, particularly for research that informs human-centered design decisions. Providing such disclosures is crucial for ensuring stakeholders correctly interpret the findings and their applicability.

\subsection{Introduction: LLMs as Tools for Software Engineers}

Besides support research tasks, LLM-based assistants have become an essential tool for software engineers, supporting them in various tasks such as code generation, code summarization, code completion, and code repair.
Researchers have studied how software engineers use LLMs in their workflows, developed new tools that integrate LLMs, and benchmarked LLMs for software engineering tasks.
For all these study types, different guidelines may apply.
Therefore, it is important to clearly separate and describe them. 

\subsection{Studying LLM Usage in Software Engineering}

\subsubsection{Description}

Empirical studies can also focus on understanding how software engineers use LLMs in their workflows.
In these types of studies, researchers attempt to gain a detailed view of the current state of practice in software engineering.
Observations and data gathering occurs in a real-world context based on information from practitioners.
This involves investigating the adoption, usage patterns, and perceived benefits and challenges of LLM-based tools.
Surveys, interviews, and observational studies can provide insights into how LLMs are integrated into development processes, how they influence decision-making, and what factors affect their acceptance and effectiveness. 

Such studies can inform the design of more user-friendly and effective LLM-based tools and uncover new best practices for the LLM-assisted software engineering process.
Moreover, they might uncover risks associated with the inclusion of LLM during the creation of software and point out problematic use cases.

\subsubsection{Example(s)}

Observing the use of LLMs in case studies allows researchers to gather direct information in a real-world context.
For example, Khojah et al. investigated the use of ChatGPT by professional software engineers in a week-long observational study~\cite{DBLP:journals/pacmse/KhojahM0N24}.
Ananza et al. conducted a case study evaluating the impact of introducing LLMs to the onboarding process of new software developers~\cite{DBLP:conf/csee/AzanzaPIG24}.

Surveys can help researchers quickly provide a wider overview of the current perceptions of LLM use.
For example, Jahic and Sami surveyed 15 software companies regarding their practices on LLMs in software engineering~\cite{DBLP:conf/icsa/JahicS24}.

Retrospective studies analyzing the data generated during the use of LLMs by software engineers can provide additional insights into human LLM interactions.
For example, researchers my employ data mining methods to build large-scale conversation datasets, such as the DevGPT dataset introduced by Xiao et al~\cite{DBLP:conf/msr/XiaoTHM24}.
Conversations can then be analyzed using quantitative~\cite{DBLP:conf/msr/RabbiCZI24} and qualitative~\cite{DBLP:conf/msr/MohamedPP24} analysis methods.

\subsubsection{Advantages}

Studying the usage of LLMs in its application context allows researchers to conduct studies with high external validity.
As the observations happen directly in its real-world context, researchers may find it easier to generalize the study results to other cases or the whole target population.
Researching in a less controlled study environment may also uncover more nuanced information about LLM-assisted SE workflows in general, independent of the specific LLM being evaluated.

\subsubsection{Challenges}

Due to the studies taking place in real-world environments as opposed to more controlled settings, many additional potential confounding factors are present, which may threaten the internal validity of the study.
The usage environment and choice of LLMs in a real-world context can often be extremely diverse.
In practice, the process integration of LLMs can range from the use of specific LLMs based on company policy to the unregulated use of any available LLM. 
Both extremes may influence the use of LLMs by software engineers in different ways, and as such should be addressed differently by the study methodology.
Researchers should directly address these factors in their study design, by clearly describing and documenting the study environment, including organizational context, participant characteristics, and LLM tools used, as well as any relevant policies or guidelines that govern their use.
These factors should then be utilized when interpreting the study results and when attempting to generalize the study results from the case to the population, for example by considering how the findings might apply to other organizations or contexts with similar characteristics.

Further, in longitudinal case studies, the timing of the study may have a significant impact on its result, as LLMs are quickly being developed and replaced by newer versions.
This difficulty is exacerbated by the relative novelty of LLMs in the SE process.
Developers are still learning how to best make use of the new technology and best practices are being established.
To mitigate these challenges, researchers should actively track changes in LLMs, such as updates or new releases, as well as changes in developer practices, and collect data at multiple points during their study, allowing them to capture the evolution of LLM use over time and assess the impact of these changes on their findings.

\subsection{LLMs for New Software Engineering Tools}

\subsubsection{Description}

LLMs are being integrated into new tools designed to support software engineers in their daily tasks.
Such integration is important to tailor the tools to the specific needs of a development team and to enhance their capabilities, as well as to influence their behavior in accordance with company policies.
In this regard, the advent of \textit{GenAI Agents} has enabled the development of a standardized architecture, where the LLM is guided by a reasoning component (related to prompt engineering), tools (understood as interfacing with external systems via APIs or databases), and a user communication interface that is not necessarily limited to a chat~\cite{DBLP:conf/icsm/RichardsW24, DBLP:journals/tmlr/SumersYN024, DBLP:journals/corr/abs-2309-07870}.
Other than propose tools, researcher can also evaluate the effectiveness of these tools in improving developer experience (for example, in terms of productivity, artefact quality, and developer satisfaction) and testing with different implementations of the above mentioned architecture in order to improve the tools.

\subsubsection{Example(s)}

Researchers can propose tools to facilitate technology transfer from the research environment to industry. 
For instance, Richards and Wessel introduced a preliminary GenAI agent designed to assist developers in understanding source code by incorporating a reasoning component grounded in the theory of mind~\cite{DBLP:conf/icsm/RichardsW24}. Their work specifically emphasized the reasoning aspect of the architecture, leveraging the theory of mind to develop tailored agents while also demonstrating their effectiveness.
Similarly, Yan et al. proposed IVIE, a tool integrated into the VS Code graphical interface that generates and explains code using LLMs~\cite{DBLP:conf/chi/YanHWH24}. In this case, the authors focused more on the presentation part of the architecture, providing a user-friendly interface to interact with the LLM. 

Empirical studies can evaluate the effectiveness of these tools in improving productivity, artefact quality, and developer satisfaction.
For example, Choudhuri et al. conducted an experiment with students in which they measured the impact of ChatGPT on the correctness and time taken to solve programming tasks~\cite{DBLP:conf/icse/ChoudhuriLSGS24}.

\subsubsection{Advantages}

By assessing the impact of LLM-powered tools, researchers can identify best practices and areas for further improvement.
Moreover, by developing tools based on well-defined agent architectures, researchers can facilitate technology transfer, bridging the gap between industry and academia more effectively. 
Moreover, the increased accessibility of open models and their advanced capabilities have made the development of such tools more feasible and democratized than in the past.

\subsubsection{Challenges}


In this context, the non-determinism of generative AI models—although potentially mitigated through prompt engineering—poses a significant challenge in both the development and evaluation of tools integrating GenAI. 
Additionally, while open models are accessible, the most performant ones require substantial hardware resources that are not yet widely available. Resorting to cloud-based APIs using non-open models or relying on third-party providers for hosting, while seemingly a solution, introduces new concerns related to data privacy and security.


\subsection{Benchmarking LLMs for Software Engineering Tasks}

\subsubsection{Description}

Benchmarking is the process of evaluating the LLM output obtained from a \emph{standardized} datasets using a set of \emph{standardized} metrics.
High-quality reference datasets, such as HumanEval~\cite{DBLP:journals/corr/abs-2107-03374} for the task of code generation, are necessary to perform evaluation across studies.
LLM output is compared against a ground truth from the dataset in the benchmark using general metrics for text generation, such as ROUGE, BLEU, or METEOR~\cite{10.1145/3695988}, as well as task-specific metrics, such as Pass@k for code generation.

\subsubsection{Example(s)}

In software engineering, benchmarking may include the evaluation of LLMs ability to produce accurate and reliable outputs for input data obtained from curated real-world projects or from synthetic SE-specific datasets.
%\comment{What are "robust" outputs? Outputs following a specific structure? In that case, "accurate" also describes that feature}
Typical tasks include code generation, code summarization, code completion, and code repair, but also natural-language processing tasks---i.e., anaphora resolution---interesting for subfields such a Requirements Engineering. 
RepairBench~\cite{silva2024repairbench}, for example, contains 574 buggy Java methods and their corresponding fixed versions, which can be used to evaluate the performance of LLMs in code repair tasks.
The metrics used are Plausible@1 (i.e., the probability that the first generated patch passes all test cases) and AST Match@1 (i.e., the probability that the Abstract Syntax Tree of the first generated patch matches the one of the ground truth patch).
SWE-Bench~\cite{DBLP:conf/iclr/JimenezYWYPPN24} is a more generic benchmark that contains 2,294 SE Python tasks extracted from GitHub pull requests.
For scoring the performance of the LLMs on the tasks, the authors report whether the generated patch is applicable (i.e., it fails compilation) and, for successful patches, the percentage of test cases passed.

\subsubsection{Advantages}

Properly-built benchmarks provide objective, reproducible evaluation across different tasks, enabling fair comparison of different models (and versions).
Moreover, benchmarks built for specific SE tasks can help identify LLM weaknesses and support their optimization/fine-tuning for such tasks.
Benchmark built using real-world data can also help legitimize research results for practitioners, supporting industry-academia collaboration.
Finally, benchmarks can foster open science practices by providing a common ground for sharing data (e.g., as part of the benchmark itself) and results (e.g., of models run against a benchmark).

\subsubsection{Challenges}

Benchmark contamination, the inclusion of the benchmark in the training dataset of the LLM,~\cite{DBLP:journals/corr/abs-2410-16186} has recently been identified as an issue.
The careful selection of samples and building of corresponding input prompts is particularly important, as correlations between prompts may bias benchmark results~\cite{DBLP:conf/acl/SiskaMAB24}.
While LLMs might perform well on a specific benchmark, such as HumanEval, it does not necessarily perform well on another benchmark.
Benchmark metrics such as perplexity or BLEU-N do not always reflect human judgment.
Recently, Cao et al.~\cite{cao2025should} has proposed guidelines for building benchmarks for LLMs related to coding tasks, grounded in a systematic survey of existing benchmarks. 
In this process, they highlight current shortcomings related to reliability, transparency irreproducibility, low data quality, and inadequate validation measures.
\comment{I like the last reference to guildelines for building a benchmark. Should we include some challenges from the paper, too?}

\subsection{References}

\bibliographystyle{plain}
\bibliography{../../literature.bib}

\end{document}
